!function(a,b){"use strict";function c(b,d){this.options=a.extend({},c.DEFAULTS,d),this.$element=a(b).css({position:"absolute",width:"auto","min-width":"0","max-width":"none",height:"auto","min-height":"0","max-height":"none"}),this.getWrapper().is("body")||(-1==a.inArray(this.getWrapper().css("position"),["absolute","relative","fixed"])&&this.getWrapper().css("position","relative"),this.getWrapper().css("overflow","hidden")),"function"==typeof this.options.init&&this.options.init.call(this.$element),a(window).resize(a.proxy(this.resize,this)),this.$element.get(0).complete?this.load():this.$element.load(a.proxy(this.load,this))}c.DEFAULTS={posX:"center",posY:"middle",shiftX:0,shiftY:0,bleedSize:0,wrapper:b,init:function(){a(this).fadeTo(0,0)},load:function(){a(this).fadeTo(400,1)}},c.prototype={load:function(){this.$element.trigger("load.cover"),this.resize(),"function"==typeof this.options.load&&this.options.load.call(this.$element),this.$element.trigger("loaded.cover")},getWrapper:function(){if(!this.$wrapper)if("string"==typeof this.options.wrapper)this.$wrapper=this.$element.closest(this.options.wrapper);else for(this.$wrapper=this.$element.parent();this.$wrapper.not("body")&&-1==a.inArray(this.$wrapper.css("position"),["relative","absolute"])&&-1==a.inArray(this.$wrapper.css("display"),["block","inline-block"]);)this.$wrapper=this.$wrapper.parent();return this.$wrapper},getWidth:function(){return this.width||(this.width=this.$element.attr("width")||this.$element.get(0).width||1),this.width},getHeight:function(){return this.height||(this.height=this.$element.attr("height")||this.$element.get(0).height||1),this.height},getRatio:function(){return this.ratio||(this.ratio=this.getWidth()/this.getHeight()),this.ratio},getWrapperWidth:function(){return this.getWrapper().width()},getWrapperHeight:function(){return this.getWrapper().height()},getWrapperRatio:function(){return this.getWrapperWidth()/(this.getWrapperHeight()||1)},resize:function(){var a=this.options;if(this.$element.trigger("resize.cover"),this.getWrapperRatio()<this.getRatio())switch(this.$element.css({width:"auto",height:"100%",top:0}),a.posX){case"left":this.$element.css({left:0,right:"none"});break;case"right":this.$element.css({left:"none",right:0});break;default:this.$element.css({left:-((this.$element.width()-this.$wrapper.width())/2),right:"none"})}else switch(this.$element.css({width:"100%",height:"auto",left:0}),a.posY){case"top":this.$element.css({top:0,bottom:"none"});break;case"bottom":this.$element.css({top:"none",bottom:0});break;default:this.$element.css({top:-((this.$element.height()-this.$wrapper.height())/2),bottom:"none"})}this.$element.trigger("resized.cover")}};var d=a.fn.cover;a.fn.cover=function(b){return this.each(function(){var d=a(this),e=d.data("wxr.cover"),f="object"==typeof b&&b;e||d.data("wxr.cover",e=new c(this,f))})},a.fn.cover.Constructor=c,a.fn.cover.noConflict=function(){return a.fn.cover=d,this},a(window).on("load",function(){a('img[data-size="cover"]').each(function(){var b=a(this);b.cover(b.data())})})}(window.jQuery);