!function(a,b,c){"use strict";function d(c,f){var f,g,h;return this.options=f=a.extend({},d.DEFAULTS,f),this.$element=g=a(c),h=this.getWrapper(),f.css&&(a("html").hasClass("bgsizecover")||!b.Modernizr&&h.css("background-size","cover")&&"cover"==h.css("background-size"))?(h.css({"background-image":"url("+g.attr("src")+")","background-position":f.x+" "+f.y,"background-attachment":f.attachment}),g.hide(),void 0):("scroll"!=f.attachment||h.is("body")||(-1==a.inArray(h.css("position"),["absolute","relative","fixed"])&&h.css("position","relative"),h.css("overflow","hidden")),g.css({position:"absolute",width:"auto","min-width":"0","max-width":"none",height:"auto","min-height":"0","max-height":"none"}),"function"==typeof f.init&&f.init.call(g),e.resize(a.proxy(this.resize,this)),g.get(0).complete?this.load():g.load(a.proxy(this.load,this)),void 0)}var e=a(b);d.DEFAULTS={x:"center",y:"middle",attachment:"scroll",wrapper:c,css:!0,init:function(){a(this).fadeTo(0,0)},load:function(){a(this).fadeTo(400,1)}},d.prototype={load:function(){this.$element.trigger("load.cover"),this.resize(),"function"==typeof this.options.load&&this.options.load.call(this.$element),this.$element.trigger("loaded.cover")},getWrapper:function(){var b=this.options,d=this.$wrapper,e=this.$element;if(d===c){if("string"==typeof b.wrapper)d=e.closest(b.wrapper);else for(d=e.parent();!d.is("body")&&-1==a.inArray(d.css("position"),["relative","absolute"])&&-1==a.inArray(d.css("display"),["block","inline-block"]);)d=d.parent();this.$wrapper=d}return d},getOriginalWidth:function(){return this.width||(this.width=this.$element.attr("width")||this.$element.get(0).width||1),this.width},getOriginalHeight:function(){return this.height||(this.height=this.$element.attr("height")||this.$element.get(0).height||1),this.height},getOriginalRatio:function(){return this.ratio||(this.ratio=this.getOriginalWidth()/this.getOriginalHeight()),this.ratio},getWrapperWidth:function(){var a,b=this.options;return this.wrapperWidth===c&&(a="fixed"==b.attachment?e:this.getWrapper(),this.wrapperWidth=a.width(),e.resize(function(){this.wrapperWidth=a.width()})),this.wrapperWidth},getWrapperHeight:function(){var a,b=this.options;return this.wrapperHeight===c&&(a="fixed"==b.attachment?e:this.getWrapper(),this.wrapperHeight=a.height(),e.resize(function(){this.wrapperHeight=a.height()})),this.wrapperHeight},getWrapperRatio:function(){return this.getWrapperWidth()/(this.getWrapperHeight()||1)},resize:function(){var a=this.options,b=this.$element;if(b.trigger("resize.cover"),this.getWrapperRatio()<this.getOriginalRatio())switch(b.css({width:"auto",height:"100%",top:0}),a.x){case"left":b.css({left:0,right:"none"});break;case"right":b.css({left:"none",right:0});break;default:b.css({left:-((b.width()-this.getWrapperWidth())/2),right:"none"})}else switch(b.css({width:"100%",height:"auto",left:0}),a.y){case"top":b.css({top:0,bottom:"none"});break;case"bottom":b.css({top:"none",bottom:0});break;default:b.css({top:-((b.height()-this.getWrapperHeight())/2),bottom:"none"})}b.trigger("resized.cover")}};var f=a.fn.cover;a.fn.cover=function(b){return this.each(function(){var c=a(this),e=c.data("wxr.cover"),f="object"==typeof b&&b;e||c.data("wxr.cover",e=new d(this,f))})},a.fn.cover.Constructor=d,a.fn.cover.noConflict=function(){return a.fn.cover=f,this},a(b).on("load",function(){a('img[data-size="cover"]').each(function(){var b=a(this);b.cover(b.data())})})}(window.jQuery,window);