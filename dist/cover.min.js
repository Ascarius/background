!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(t,e){"use strict";function i(e,i){return this.$element=t(e),this.$element.data(o)?this.$element.data(o):(this.$element.data(o,this),this.options=t.extend({},this.DEFAULTS,i||{},this.$element.data()),this.$wrapper=this.getWrapper(),this.onResize=null,this.onRemove=null,void this._init())}var o="cover",n=t(window),r=t.fn[o];return i.prototype.DEFAULTS={x:"center",y:"center",attachment:"scroll",wrapper:null,onInit:e,onLoad:e},i.prototype._init=function(){{var e=(this.options,this.$element);this.$wrapper}this._initWrapper(),this._initElement(),this.onResize=t.proxy(this.resize,this),this.onRemove=t.proxy(this.destroy,this),n.on("resize",this.onResize),n.on("orientationchange",this.onResize),e.one("remove",this.onRemove),"function"==typeof this.options.onInit&&e.one("initialized."+o,this.options.onInit),"function"==typeof this.options.onLoad&&e.one("loaded."+o,this.options.onLoad),this.resize(),e.trigger("initialized."+o),e.get(0).complete?this.onLoad():e.one("load loadeddata",t.proxy(this.onLoad,this))},i.prototype._initWrapper=function(){var e=this.options,i=this.$wrapper;"scroll"!==e.attachment||i.is("body")||(-1===t.inArray(i.css("position"),["absolute","relative","fixed"])&&i.css("position","relative"),i.css("overflow","hidden"))},i.prototype._initElement=function(){this.$element.css({position:"absolute",width:"auto","min-width":"0","max-width":"none",height:"auto","min-height":"0","max-height":"none"})},i.prototype.destroy=function(){n.off("resize",this.onResize),n.off("orientationchange",this.onResize),this.$element.off("remove",this.onRemove),this.$element.removeData(o)},i.prototype.onLoad=function(){this.resize(),this.$element.trigger("loaded."+o)},i.prototype.getWrapper=function(){return this.$wrapper?this.$wrapper:(this.$wrapper="fixed"===this.options.attachment?n:this._findWrapper(),this.$wrapper)},i.prototype._findWrapper=function(){var e,i=this.options,o=this.$element;if("string"==typeof i.wrapper)e=o.closest(i.wrapper);else{if(!t.contains(document,o.get(0)))throw new Error("Element is not in DOM");for(e=o.parent();!e.is("body")&&-1===t.inArray(e.css("position"),["relative","absolute"])&&-1===t.inArray(e.css("display"),["block","inline-block"]);)e=e.parent()}return e},i.prototype.getNaturalWidth=function(){var t=this.$element,e=t.get(0);return e.naturalWidth||e.width||t.attr("width")||t.width()||1},i.prototype.getNaturalHeight=function(){var t=this.$element,e=t.get(0);return e.naturalHeight||e.height||t.attr("height")||t.height()||1},i.prototype.getNaturalRatio=function(){return this.getNaturalWidth()/this.getNaturalHeight()},i.prototype.getWrapperWidth=function(){return this.getWrapper().width()},i.prototype.getWrapperHeight=function(){return this.getWrapper().height()},i.prototype.getWrapperRatio=function(){return this.getWrapperWidth()/(this.getWrapperHeight()||1)},i.prototype.resize=function(){var t=(this.options,this.$element);this.getWrapperRatio()<this.getNaturalRatio()?this._resizeNarrower():this._resizeWider(),t.trigger("resized."+o)},i.prototype._resizeNarrower=function(){var t=this.options,e=this.$element;switch(e.css({width:"auto",height:"100%",top:0}),t.x){case"left":e.css({left:0,right:"none"});break;case"right":e.css({left:"none",right:0});break;default:e.css({left:-((e.width()-this.getWrapperWidth())/2),right:"none"})}},i.prototype._resizeWider=function(){var t=this.options,e=this.$element;switch(e.css({width:"100%",height:"auto",left:0}),t.y){case"top":e.css({top:0,bottom:"none"});break;case"bottom":e.css({top:"none",bottom:0});break;default:e.css({top:-((e.height()-this.getWrapperHeight())/2),bottom:"none"})}},t.fn[o]=function(e){return this.each(function(){var n=t(this),r=n.data(o),s="object"==typeof e?e:{};r||(r=new i(this,s)),"string"==typeof e&&("resize"===e?r.resize():"destroy"===e&&r.destroy())})},t.fn.cover.Constructor=i,t.fn.cover.noConflict=function(){return t.fn.cover=r,this},i});
//# sourceMappingURL=cover.min.js.map