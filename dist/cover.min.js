!function(t,e){"use strict";function i(e,o){this.options=t.extend({},i.DEFAULTS,o),this.$element=t(e),this.$wrapper=this.findWrapper(),this.width=null,this.height=null,this.ratio=null,this.onResize=null,this.onRemove=null,this.init()}var o=t(e);i.DEFAULTS={x:"center",y:"center",attachment:"scroll",wrapper:null,css:!0,onInit:function(){t(this).fadeTo(0,0)},onLoad:function(){t(this).fadeTo(400,1)}},i.prototype.init=function(){var i=this.options,n=this.$element,s=this.$wrapper;return i.css&&(t("html").hasClass("bgsizecover")||!e.Modernizr&&s.css("background-size","cover")&&"cover"===s.css("background-size"))?(s.css({"background-image":"url("+n.attr("src")+")","background-position":i.x+" "+i.y,"background-attachment":i.attachment}),void n.hide()):("scroll"!==i.attachment||s.is("body")||(-1===t.inArray(s.css("position"),["absolute","relative","fixed"])&&s.css("position","relative"),s.css("overflow","hidden")),n.css({position:"absolute",width:"auto","min-width":"0","max-width":"none",height:"auto","min-height":"0","max-height":"none"}),this.onResize=t.proxy(this.resize,this),this.onRemove=t.proxy(this.destroy,this),o.on("resize",this.onResize),o.on("orientationchange",this.onResize),n.one("remove",this.onRemove),"function"==typeof this.options.onInit&&this.options.onInit.call(n),n.trigger("initialized.cover"),void(n.get(0).complete?this.loaded():n.one("load",t.proxy(this.loaded,this))))},i.prototype.destroy=function(){o.off("resize",this.onResize),o.off("orientationchange",this.onResize),this.$element.off("remove",this.onRemove),this.$element.removeData("wxr.cover")},i.prototype.loaded=function(){this.resize(),"function"==typeof this.options.onLoad&&this.options.onLoad.call(this.$element),this.$element.trigger("loaded.cover")},i.prototype.findWrapper=function(){var e,i=this.options,o=this.$element;if("string"==typeof i.wrapper)e=o.closest(i.wrapper);else for(e=o.parent();!e.is("body")&&-1===t.inArray(e.css("position"),["relative","absolute"])&&-1===t.inArray(e.css("display"),["block","inline-block"]);)e=e.parent();return e},i.prototype.getOriginalWidth=function(){return this.width||(this.width=this.$element.attr("width")||this.$element.get(0).width||1),this.width},i.prototype.getOriginalHeight=function(){return this.height||(this.height=this.$element.attr("height")||this.$element.get(0).height||1),this.height},i.prototype.getOriginalRatio=function(){return this.ratio||(this.ratio=this.getOriginalWidth()/this.getOriginalHeight()),this.ratio},i.prototype.getWrapperWidth=function(){var t="fixed"===this.options.attachment?o:this.$wrapper;return t.width()},i.prototype.getWrapperHeight=function(){var t="fixed"===this.options.attachment?o:this.$wrapper;return t.height()},i.prototype.getWrapperRatio=function(){return this.getWrapperWidth()/(this.getWrapperHeight()||1)},i.prototype.resize=function(){var t=this.options,e=this.$element;if(this.getWrapperRatio()<this.getOriginalRatio())switch(e.css({width:"auto",height:"100%",top:0}),t.x){case"left":e.css({left:0,right:"none"});break;case"right":e.css({left:"none",right:0});break;default:e.css({left:-((e.width()-this.getWrapperWidth())/2),right:"none"})}else switch(e.css({width:"100%",height:"auto",left:0}),t.y){case"top":e.css({top:0,bottom:"none"});break;case"bottom":e.css({top:"none",bottom:0});break;default:e.css({top:-((e.height()-this.getWrapperHeight())/2),bottom:"none"})}e.trigger("resized.cover")};var n=t.fn.cover;t.fn.cover=function(e){return this.each(function(){var o=t(this),n=o.data("wxr.cover"),s="object"==typeof e?e:{};n||o.data("wxr.cover",n=new i(this,s)),"string"==typeof e&&("resize"===e?n.resize():"destroy"===e&&n.destroy())})},t.fn.cover.Constructor=i,t.fn.cover.noConflict=function(){return t.fn.cover=n,this},t(function(){t('img[data-size="cover"]').each(function(){var e=t(this);e.cover(e.data())})})}(window.jQuery,window);
//# sourceMappingURL=cover.min.js.map